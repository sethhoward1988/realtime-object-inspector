<link rel="import" href="../polymer/polymer.html">

<polymer-element name="app-globals">
  <script>
    DocumentHolder = function () {
      this.loadedDocs = {};
    }
    DocumentHolder.prototype = {
      addDoc: function (fileId, doc) {
        this.loadedDocs[fileId] = {
          doc: doc,
          isEditable: false
        }
      },

      getDoc: function (fileId) {
        return this.loadedDocs[fileId].doc;
      }
    }
  </script>
  <script>
  (function (d) {

    var documentHolder = new d;

    Polymer({
      ready: function () {
        this.documentHolder = documentHolder;
      },

      addDoc: function (fileId, doc) {
        this.documentHolder.addDoc(fileId, doc);
      },

      getDoc: function (fileId) {
        return this.documentHolder.getDoc(fileId);
      },

      getModel: function (fileId) {
        return this.getDoc(fileId).getModel();
      },
    });

  })(DocumentHolder);
  </script>
</polymer-element>